<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8" />
	<title>Ping for Twitch</title>
    </head>
    <body>
	<button id="ping">HTTP Ping</button>
	<table>
	    <thead>
		<tr><td>Address</td><td>Server</td><td>Ping</td></tr>
	    </thead>
	    <tbody>
		<tr><td>live-hkg.twitch.tv</td><td>AS: Hong Kong</td><td></td></tr>
		<tr><td>live-sel.twitch.tv</td><td>AS: Seoul, South Korea</td><td></td></tr>
		<tr><td>live-sin.twitch.tv</td><td>AS: Singapore</td><td></td></tr>
		<tr><td>live-tpe.twitch.tv</td><td>AS: Taipei, Taiwan</td><td></td></tr>
		<tr><td>live-tyo.twitch.tv</td><td>AS: Tokyo, Japan</td><td></td></tr>
		<tr><td>live-syd.twitch.tv</td><td>AU: Sydney</td><td></td></tr>
		<tr><td>live-ams.twitch.tv</td><td>EU: Amsterdam, NL</td><td></td></tr>
		<tr><td>live-fra.twitch.tv</td><td>EU: Frankfurt, Germany</td><td></td></tr>
		<tr><td>live-lhr.twitch.tv</td><td>EU: London, UK</td><td></td></tr>
		<tr><td>live-cdg.twitch.tv</td><td>EU: Paris, FR</td><td></td></tr>
		<tr><td>live-prg.twitch.tv</td><td>EU: Prague, CZ</td><td></td></tr>
		<tr><td>live-arn.twitch.tv</td><td>EU: Stockholm, Sweden</td><td></td></tr>
		<tr><td>live-waw.twitch.tv</td><td>EU: Warsaw, Poland</td><td></td></tr>
		<tr><td>live-eze.twitch.tv</td><td>South America: Argentina</td><td></td></tr>
		<tr><td>live-scl.twitch.tv</td><td>South America: Chile</td><td></td></tr>
		<tr><td>live-gig.twitch.tv</td><td>South America: Rio de Janeiro, Brazil</td><td></td></tr>
		<tr><td>live-gru.twitch.tv</td><td>South America: Sao Paulo, Brazil</td><td></td></tr>
		<tr><td>live-dfw.twitch.tv</td><td>US Central: Dallas, TX</td><td></td></tr>
		<tr><td>live-iad.twitch.tv</td><td>US East: Ashburn, VA</td><td></td></tr>
		<tr><td>live-ord.twitch.tv</td><td>US East: Chicago</td><td></td></tr>
		<tr><td>live-mia.twitch.tv</td><td>US East: Miami, FL</td><td></td></tr>
		<tr><td>live-jfk.twitch.tv</td><td>US East: New York, NY</td><td></td></tr>
		<tr><td>live-lax.twitch.tv</td><td>US West: Los Angeles, CA</td><td></td></tr>
		<tr><td>live.twitch.tv</td><td>US West: San Francisco, CA</td><td></td></tr>
		<tr><td>live-sjc.twitch.tv</td><td>US West: San Jose,CA</td><td></td></tr>
		<tr><td>live-sea.twitch.tv</td><td>US West: Seattle,WA</td><td></td></tr>
	    <tbody>
	</table>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.rawgit.com/jdfreder/pingjs/c2190a3649759f2bd8569a72ae2b597b2546c871/ping.js"></script>
	<script src="https://cdn.jsdelivr.net/tablesorter/2.17.4/js/jquery.tablesorter.min.js"></script>
	<script>
			$('#ping').click(function () {
				var counter = 1;
				$('tbody tr').each(function () {
					var self = this;
					ping('http://' + $(this).find(':first-child').text() + ':1935').then(function (delta) {
						$(self).find(':last-child').text(delta + ' ms');
						counter++;
						if (counter === $('tr').length)
							$('table').tablesorter();
					});
				});
			});
	</script>
    </body>
</html>
